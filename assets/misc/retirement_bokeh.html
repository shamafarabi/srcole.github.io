
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Retirement WIP</title>
        
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.css" type="text/css" />
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.css" type="text/css" />
        
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.js"></script>
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.js"></script>
<script type="text/javascript">
    Bokeh.set_log_level("info");
</script>
        <style>
          html {
            width: 100%;
            height: 100%;
          }
          body {
            width: 90%;
            height: 100%;
            margin: auto;
          }
        </style>
    </head>
    <body>
        
        <div class="bk-root">
            <div class="bk-plotdiv" id="0c7f1cae-f983-4e5b-bc75-0a2479df48d4"></div>
        </div>
        
        <script type="text/javascript">
            (function() {
          var fn = function() {
            Bokeh.safely(function() {
              var docs_json = {"d830bcab-bd09-40a5-b5a1-7b0613293893":{"roots":{"references":[{"attributes":{"children":[{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"},{"id":"aa52613f-f620-417e-9a45-2cab26df992c","type":"WidgetBox"}]},"id":"acc1682c-0e36-4ca5-bcb5-6b955e1e8865","type":"Row"},{"attributes":{"plot":null,"text":""},"id":"60ad041c-326a-4b28-9aca-348e8367cbcf","type":"Title"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"0e74234d-325d-467b-a08e-a9c63366ad09","type":"PanTool"},{"id":"377f2282-a9b9-40ce-9a09-7c0ce17f4dcf","type":"WheelZoomTool"},{"id":"a1f4fb9f-3e87-4fda-91ab-8b54b79da4fd","type":"BoxZoomTool"},{"id":"df6b7171-ee8b-4b75-a3a0-292d33b94cf0","type":"SaveTool"},{"id":"4f5b15bf-51af-4e28-bdd8-6eb794055e5d","type":"ResetTool"},{"id":"4e3bb109-0bf3-4291-b62a-e44cf107bcb3","type":"HelpTool"}]},"id":"6c43a9c7-a163-46cc-acaa-27be26691bab","type":"Toolbar"},{"attributes":{},"id":"a0768622-f667-4603-a5ff-386fec1dd40d","type":"BasicTickFormatter"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"ef7df1c9-52bf-4bd1-a0a8-ab70b9b802e2","type":"Line"},{"attributes":{"callback":null,"end":50},"id":"312563ba-b63b-4678-b8e3-39aae6072a2d","type":"Range1d"},{"attributes":{},"id":"f9a5d2b8-2318-4e01-960f-c772364b9342","type":"BasicTickFormatter"},{"attributes":{"below":[{"id":"c402e0fb-3652-472d-9dfb-c982b4576acd","type":"LinearAxis"}],"left":[{"id":"d552d8ec-d81b-497b-9390-d7578f1026df","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"c402e0fb-3652-472d-9dfb-c982b4576acd","type":"LinearAxis"},{"id":"41b1f9ae-7ea7-407c-aea3-a250e87883ce","type":"Grid"},{"id":"d552d8ec-d81b-497b-9390-d7578f1026df","type":"LinearAxis"},{"id":"79f63fc5-e3e5-4365-94c1-e645f554bbe0","type":"Grid"},{"id":"8f11c8db-188f-4a78-b422-6cd7a435dfde","type":"BoxAnnotation"},{"id":"a751aabd-cae2-4760-952b-17ac4929b03c","type":"GlyphRenderer"}],"title":{"id":"60ad041c-326a-4b28-9aca-348e8367cbcf","type":"Title"},"tool_events":{"id":"4aff029d-051b-49c4-a6a5-27cbed5df6b8","type":"ToolEvents"},"toolbar":{"id":"6c43a9c7-a163-46cc-acaa-27be26691bab","type":"Toolbar"},"x_range":{"id":"312563ba-b63b-4678-b8e3-39aae6072a2d","type":"Range1d"},"x_scale":{"id":"a217b62f-e722-4131-a2e2-95c3c1cc7ee8","type":"LinearScale"},"y_range":{"id":"17d48d9f-26c9-4687-a947-60e0f39402cc","type":"DataRange1d"},"y_scale":{"id":"84bd09a8-73f6-48d3-83c1-3e7a6c6f126f","type":"LinearScale"}},"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"},{"attributes":{"callback":null},"id":"17d48d9f-26c9-4687-a947-60e0f39402cc","type":"DataRange1d"},{"attributes":{},"id":"a217b62f-e722-4131-a2e2-95c3c1cc7ee8","type":"LinearScale"},{"attributes":{},"id":"84bd09a8-73f6-48d3-83c1-3e7a6c6f126f","type":"LinearScale"},{"attributes":{"axis_label":"Years from start of savings","formatter":{"id":"a0768622-f667-4603-a5ff-386fec1dd40d","type":"BasicTickFormatter"},"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"},"ticker":{"id":"602be97e-86f6-46a5-9082-8c07d481ed85","type":"BasicTicker"}},"id":"c402e0fb-3652-472d-9dfb-c982b4576acd","type":"LinearAxis"},{"attributes":{},"id":"602be97e-86f6-46a5-9082-8c07d481ed85","type":"BasicTicker"},{"attributes":{"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"},"ticker":{"id":"602be97e-86f6-46a5-9082-8c07d481ed85","type":"BasicTicker"}},"id":"41b1f9ae-7ea7-407c-aea3-a250e87883ce","type":"Grid"},{"attributes":{"axis_label":"Annual income on interest (thousands of today's $)","formatter":{"id":"f9a5d2b8-2318-4e01-960f-c772364b9342","type":"BasicTickFormatter"},"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"},"ticker":{"id":"140d7ce2-81fc-405e-afe8-48734aa52718","type":"BasicTicker"}},"id":"d552d8ec-d81b-497b-9390-d7578f1026df","type":"LinearAxis"},{"attributes":{},"id":"140d7ce2-81fc-405e-afe8-48734aa52718","type":"BasicTicker"},{"attributes":{"dimension":1,"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"},"ticker":{"id":"140d7ce2-81fc-405e-afe8-48734aa52718","type":"BasicTicker"}},"id":"79f63fc5-e3e5-4365-94c1-e645f554bbe0","type":"Grid"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"8f11c8db-188f-4a78-b422-6cd7a435dfde","type":"BoxAnnotation"},{"attributes":{"data_source":{"id":"3b687437-f39c-496a-88eb-3c1d775094a1","type":"ColumnDataSource"},"glyph":{"id":"cd3ae2c3-a5b2-4094-9f24-efc9e4b4f8c9","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"ef7df1c9-52bf-4bd1-a0a8-ab70b9b802e2","type":"Line"},"selection_glyph":null},"id":"a751aabd-cae2-4760-952b-17ac4929b03c","type":"GlyphRenderer"},{"attributes":{"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"}},"id":"0e74234d-325d-467b-a08e-a9c63366ad09","type":"PanTool"},{"attributes":{"callback":null,"column_names":["x","y","y2","y3"],"data":{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[0,0.37281553398058254,0.8361202752380056,1.3129193293475865,1.8036057345477374,2.308583976792554,2.8282703231804223,3.3630931650941513,3.913493371335465,4.479924651544971,5.062853930207183,5.662761731548876,6.280142575648094,6.915505386080298,7.569373909437712,8.242287147067673,8.934799799385884,9.64748272313084,10.38092340193633,11.135726430609939,11.91251401351676,12.71192647747912,13.53462279961514,14.381281150551239,15.25259945345635,16.149295959358703,17.072109839219372,18.021801793250738,18.99915467798205,20.004974151589032,21.040089338019516,22.105353510462542,23.201644794724295,24.32986689309076,25.490949829273728,26.685850715054254,27.915554539255567,29.181074979695758,30.483455238789546,31.823768903488006,33.20312083026507,34.6226480558803,36.08352073466879,37.586943103130714,39.13415447261581,40.72643025092086,42.365082993642574,44.05146348615228,45.78696185708461,47.57300872425768,49.411076373969784],"y2":[8.0,18.48,29.888800000000003,42.29112800000001,55.755865680000014,70.35630572080001,86.17042480704802,103.28117326076091,121.77678231065528,141.75109006317078,163.30388730525345,186.5412843370099,211.57610010447496,238.52827497920526,267.5253086124732,298.7027243777727,332.20456200644674,368.18390011782145,406.80341044760826,448.23594568686383,492.66516295884674,540.2861850830717,591.3063019051509,645.9457141080678,704.438322065818,767.0325624543713,833.9922954981757,905.5977459035048,982.1465007134167,1063.9545675135944,1151.357496624504,1244.7115711338708,1344.3950688551568,1450.8096005433174,1564.3815289594731,1685.563473652105,1814.8359066149465,1952.70884429187,2099.72364172781,2256.4548950132594,2423.512458539289,2601.5435839716374,2791.235188267526,2993.3162584988963,3208.560401712208,3437.78854854942,3681.871819878899,3941.734566240642,4218.357590499159,4512.781564721711,4826.1106529613935],"y3":[1,1.03,1.0609,1.092727,1.1255088100000001,1.1592740743,1.1940522965290001,1.2298738654248702,1.2667700813876164,1.304773183829245,1.3439163793441222,1.384233870724446,1.4257608868461793,1.4685337134515648,1.512589724855112,1.5579674166007653,1.6047064390987884,1.652847632271752,1.7024330612399046,1.7535060530771018,1.806111234669415,1.8602945717094976,1.9161034088607827,1.9735865111266062,2.0327941064604045,2.0937779296542165,2.1565912675438432,2.2212890055701586,2.2879276757372633,2.3565655060093813,2.4272624711896627,2.5000803453253524,2.5750827556851132,2.6523352383556666,2.7319052955063365,2.8138624543715265,2.8982783280026725,2.9852266778427525,3.074783478178035,3.1670269825233763,3.2620377919990777,3.35989892575905,3.4606958935318217,3.5645167703377765,3.67145227344791,3.7815958416513475,3.8950437169008882,4.011895028407915,4.132251879260153,4.2562194356379575,4.383906018707096]}},"id":"3b687437-f39c-496a-88eb-3c1d775094a1","type":"ColumnDataSource"},{"attributes":{},"id":"4aff029d-051b-49c4-a6a5-27cbed5df6b8","type":"ToolEvents"},{"attributes":{"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"}},"id":"377f2282-a9b9-40ce-9a09-7c0ce17f4dcf","type":"WheelZoomTool"},{"attributes":{"overlay":{"id":"8f11c8db-188f-4a78-b422-6cd7a435dfde","type":"BoxAnnotation"},"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"}},"id":"a1f4fb9f-3e87-4fda-91ab-8b54b79da4fd","type":"BoxZoomTool"},{"attributes":{"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"}},"id":"df6b7171-ee8b-4b75-a3a0-292d33b94cf0","type":"SaveTool"},{"attributes":{"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"}},"id":"4f5b15bf-51af-4e28-bdd8-6eb794055e5d","type":"ResetTool"},{"attributes":{"line_alpha":{"value":0.6},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"cd3ae2c3-a5b2-4094-9f24-efc9e4b4f8c9","type":"Line"},{"attributes":{"plot":{"id":"6656d22d-8d59-4e06-8369-db0c38085b3b","subtype":"Figure","type":"Plot"}},"id":"4e3bb109-0bf3-4291-b62a-e44cf107bcb3","type":"HelpTool"},{"attributes":{"callback":{"id":"015db093-21e8-4223-a586-737210ee4c2a","type":"CustomJS"},"end":50,"start":1,"step":1,"title":"Annual savings (in thousands of today's $)","value":10},"id":"dc6876c7-f666-4603-ae51-02d0365dadd7","type":"Slider"},{"attributes":{"callback":{"id":"015db093-21e8-4223-a586-737210ee4c2a","type":"CustomJS"},"end":100,"start":1,"step":1,"title":"Starting savings (in thousands of $)","value":10},"id":"a47f7b1d-52d0-45e1-9d16-d7fee9f992c1","type":"Slider"},{"attributes":{"callback":{"id":"015db093-21e8-4223-a586-737210ee4c2a","type":"CustomJS"},"end":0.5,"step":0.01,"title":"Tax rate (when remove money)","value":0.2},"id":"fa86d301-6bde-46e9-9299-2d53f2a41426","type":"Slider"},{"attributes":{"children":[{"id":"a47f7b1d-52d0-45e1-9d16-d7fee9f992c1","type":"Slider"},{"id":"e4805f7b-39fe-4608-baab-b52dc86aa76f","type":"Slider"},{"id":"dc6876c7-f666-4603-ae51-02d0365dadd7","type":"Slider"},{"id":"fa86d301-6bde-46e9-9299-2d53f2a41426","type":"Slider"},{"id":"8fb8bbe6-e326-45b0-a56c-d875e5e81ff3","type":"Slider"}]},"id":"aa52613f-f620-417e-9a45-2cab26df992c","type":"WidgetBox"},{"attributes":{"args":{"annual_ROI":{"id":"e4805f7b-39fe-4608-baab-b52dc86aa76f","type":"Slider"},"annual_inflation":{"id":"8fb8bbe6-e326-45b0-a56c-d875e5e81ff3","type":"Slider"},"annual_savings":{"id":"dc6876c7-f666-4603-ae51-02d0365dadd7","type":"Slider"},"retired_tax_rate":{"id":"fa86d301-6bde-46e9-9299-2d53f2a41426","type":"Slider"},"savings_start":{"id":"a47f7b1d-52d0-45e1-9d16-d7fee9f992c1","type":"Slider"},"source":{"id":"3b687437-f39c-496a-88eb-3c1d775094a1","type":"ColumnDataSource"}},"code":"\n    var data = source.data;\n    var savings_start = savings_start.value;\n    var annual_ROI = annual_ROI.value;\n    var annual_savings = annual_savings.value;\n    var retired_tax_rate = retired_tax_rate.value;\n    var annual_inflation = annual_inflation.value;\n    x = data['x']\n    y = data['y']\n    y2 = data['y2']\n    y3 = data['y3']\n    y[0] = 0\n    y2[0] = savings_start * (1 - retired_tax_rate)\n    y3[0] = 1\n    for (i = 1; i < x.length; i++) {\n        y3[i] = y3[i-1] * (1 + annual_inflation);\n        y[i] = (y2[i-1] * annual_ROI * (1 - retired_tax_rate)) / y3[i];\n        y2[i] = (y2[i-1] * (1 + annual_ROI) + annual_savings * y3[i]);\n    }\n    source.change.emit();\n"},"id":"015db093-21e8-4223-a586-737210ee4c2a","type":"CustomJS"},{"attributes":{"callback":{"id":"015db093-21e8-4223-a586-737210ee4c2a","type":"CustomJS"},"end":0.2,"step":0.01,"title":"Annual ROI","value":0.06},"id":"e4805f7b-39fe-4608-baab-b52dc86aa76f","type":"Slider"},{"attributes":{"callback":{"id":"015db093-21e8-4223-a586-737210ee4c2a","type":"CustomJS"},"end":0.05,"step":0.001,"title":"Annual inflation","value":0.03},"id":"8fb8bbe6-e326-45b0-a56c-d875e5e81ff3","type":"Slider"}],"root_ids":["acc1682c-0e36-4ca5-bcb5-6b955e1e8865"]},"title":"Bokeh Application","version":"0.12.6"}};
              var render_items = [{"docid":"d830bcab-bd09-40a5-b5a1-7b0613293893","elementid":"0c7f1cae-f983-4e5b-bc75-0a2479df48d4","modelid":"acc1682c-0e36-4ca5-bcb5-6b955e1e8865"}];
              
              Bokeh.embed.embed_items(docs_json, render_items);
            });
          };
          if (document.readyState != "loading") fn();
          else document.addEventListener("DOMContentLoaded", fn);
        })();
        
        </script>
    </body>
</html>