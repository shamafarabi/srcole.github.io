---
layout: post
comments: true
title:  "Retirement calculator: Interactive visualization using Bokeh"
excerpt: "After debating with a friend about how much/little we need to save in order
to retire comfortably, I made an interactive visualization that shows how much money
you will earn off interest as a function of your savings over time."
date:   2017-09-09 00:00:00
mathjax: true
---

<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Retirement calculator</title>
        
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.css" type="text/css" />
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.css" type="text/css" />
        
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.js"></script>
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.js"></script>
<script type="text/javascript">
    Bokeh.set_log_level("info");
</script>
        <style>
          html {
            width: 100%;
            height: 100%;
          }
          body {
            width: 90%;
            height: 100%;
            margin: auto;
          }
        </style>
    </head>
    <body>
        
        <div class="bk-root">
            <div class="bk-plotdiv" id="6c555d50-95f0-4cbe-a8b7-b6d3183379bc"></div>
        </div>
        
        <script type="text/javascript">
            (function() {
          var fn = function() {
            Bokeh.safely(function() {
              var docs_json = {"c08532c0-a389-4970-a735-39d40b2f7370":{"roots":{"references":[{"attributes":{"items":[{"id":"1be5e0c9-57bb-44de-ae2b-5f9bdfdf5de5","type":"LegendItem"},{"id":"3709a85e-61c9-4817-a409-bad56fd68c28","type":"LegendItem"},{"id":"918a5502-1134-4ed0-a8e8-5098fdb7e8d5","type":"LegendItem"}],"location":"top_left","plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"}},"id":"215ff4db-869f-4e45-b6c5-6b73ffa6e9fb","type":"Legend"},{"attributes":{"plot":null,"text":""},"id":"68fba405-9f1a-4854-acc1-5a6d28cf5858","type":"Title"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"a7bebc94-ea2f-4121-8ead-9ca639b0ff5a","type":"PanTool"},{"id":"58a580b7-6641-4b26-819d-dd1079451c87","type":"WheelZoomTool"},{"id":"dc35529c-8465-4c22-9127-a037b0df3bf5","type":"BoxZoomTool"},{"id":"ae05a739-c57d-4096-8cab-5424be8d680f","type":"SaveTool"},{"id":"02729d17-7ade-4ba8-b817-52705edc316c","type":"ResetTool"},{"id":"95bea5bd-85a3-4b1b-8e00-87652173354e","type":"HelpTool"}]},"id":"076810b7-581b-4f9c-bcd0-e2a454ca3a16","type":"Toolbar"},{"attributes":{"line_alpha":{"value":0.6},"line_color":{"value":"red"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y_ri"}},"id":"8d191138-b48c-4ac2-b85c-eb7873dbf29a","type":"Line"},{"attributes":{"data_source":{"id":"66383961-baa7-49da-aed3-25565cec1736","type":"ColumnDataSource"},"glyph":{"id":"8d191138-b48c-4ac2-b85c-eb7873dbf29a","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"51ccdfa0-341f-459a-b2cd-8834846dfd3c","type":"Line"},"selection_glyph":null},"id":"86a043aa-6016-4464-832d-a607db2a0817","type":"GlyphRenderer"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y_ri"}},"id":"51ccdfa0-341f-459a-b2cd-8834846dfd3c","type":"Line"},{"attributes":{"label":{"value":"retirement threshold"},"renderers":[{"id":"86a043aa-6016-4464-832d-a607db2a0817","type":"GlyphRenderer"}]},"id":"3709a85e-61c9-4817-a409-bad56fd68c28","type":"LegendItem"},{"attributes":{"line_alpha":{"value":0.6},"line_color":{"value":"green"},"line_width":{"value":3},"x":{"field":"x_rt"},"y":{"field":"y_rt"}},"id":"d3dad548-abf3-420e-a676-980ae5e1ec73","type":"Line"},{"attributes":{"data_source":{"id":"66383961-baa7-49da-aed3-25565cec1736","type":"ColumnDataSource"},"glyph":{"id":"d3dad548-abf3-420e-a676-980ae5e1ec73","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"68fa55cf-6e48-47d8-bebf-75eedd071c72","type":"Line"},"selection_glyph":null},"id":"5a9fefcf-c031-4799-a2c5-f87e8359c860","type":"GlyphRenderer"},{"attributes":{},"id":"558dd4cc-a396-4b8d-b668-097c8080ceb0","type":"BasicTickFormatter"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x_rt"},"y":{"field":"y_rt"}},"id":"68fa55cf-6e48-47d8-bebf-75eedd071c72","type":"Line"},{"attributes":{},"id":"90bf3419-915b-43b8-a907-5d8698c35f29","type":"BasicTickFormatter"},{"attributes":{"label":{"value":"year of retirement"},"renderers":[{"id":"5a9fefcf-c031-4799-a2c5-f87e8359c860","type":"GlyphRenderer"}]},"id":"918a5502-1134-4ed0-a8e8-5098fdb7e8d5","type":"LegendItem"},{"attributes":{"callback":{"id":"03b4cfb9-ae39-47c0-b4d1-174109fb3f26","type":"CustomJS"},"end":100,"start":1,"step":1,"title":"Starting savings (1000's of today's $)","value":10},"id":"13396d27-d414-48ba-89e1-8f17f8c9f6c6","type":"Slider"},{"attributes":{"args":{"annual_ROI":{"id":"2adeaafb-8475-4fef-aa72-1dbdf23d4006","type":"Slider"},"annual_inflation":{"id":"d4d38297-a401-4c8f-a244-ad4a83e78604","type":"Slider"},"annual_savings":{"id":"59a6baa5-e3e7-4514-84b3-473f4c974c3a","type":"Slider"},"retired_income":{"id":"76949883-92e3-4a04-91ee-5c1059023dc1","type":"Slider"},"retired_tax_rate":{"id":"4d31d3c5-030c-448b-8ec8-f697cb6a7a3b","type":"Slider"},"savings_start":{"id":"13396d27-d414-48ba-89e1-8f17f8c9f6c6","type":"Slider"},"source":{"id":"66383961-baa7-49da-aed3-25565cec1736","type":"ColumnDataSource"}},"code":"\n    var data = source.data;\n    var savings_start = savings_start.value;\n    var annual_ROI = annual_ROI.value;\n    var annual_savings = annual_savings.value;\n    var retired_tax_rate = retired_tax_rate.value;\n    var annual_inflation = annual_inflation.value;\n    var retired_income = retired_income.value;\n    var found_retired = 0;\n    x = data['x']\n    y = data['y']\n    y2 = data['y2']\n    y3 = data['y3']\n    y_ri = data['y_ri']\n    x_rt = data['x_rt']\n    y_rt = data['y_rt']\n    y[0] = 0\n    y2[0] = savings_start * (1 - retired_tax_rate)\n    y3[0] = 1\n    y_ri[0] = retired_income\n    for (i = 1; i < x.length; i++) {\n        y3[i] = y3[i-1] * (1 + annual_inflation);\n        y[i] = (y2[i-1] * annual_ROI * (1 - retired_tax_rate)) / y3[i];\n        y2[i] = (y2[i-1] * (1 + annual_ROI) + annual_savings * y3[i]);\n        y_ri[i] = retired_income;\n        if (y[i] >= retired_income) {\n            if (found_retired == 0) {\n                for (j = 0; j < x.length; j++) {\n                    x_rt[j] = i;\n                    y_rt[j] = retired_income * j / (x.length - 1);\n                }\n                found_retired = 1;\n            }\n        }\n        if (i == x.length - 1) {\n            if (found_retired == 0) {\n                for (j = 0; j < x.length; j++) {\n                    x_rt[j] = 0;\n                    y_rt[j] = 0;\n                }\n            }\n        }\n    }\n    source.change.emit();\n"},"id":"03b4cfb9-ae39-47c0-b4d1-174109fb3f26","type":"CustomJS"},{"attributes":{"callback":{"id":"03b4cfb9-ae39-47c0-b4d1-174109fb3f26","type":"CustomJS"},"end":0.2,"step":0.01,"title":"Annual ROI","value":0.06},"id":"2adeaafb-8475-4fef-aa72-1dbdf23d4006","type":"Slider"},{"attributes":{},"id":"02483791-eee4-4f24-a88c-6484b006d215","type":"ToolEvents"},{"attributes":{"callback":{"id":"03b4cfb9-ae39-47c0-b4d1-174109fb3f26","type":"CustomJS"},"end":50,"start":1,"step":1,"title":"Annual savings (1000's of today's $)","value":10},"id":"59a6baa5-e3e7-4514-84b3-473f4c974c3a","type":"Slider"},{"attributes":{"callback":{"id":"03b4cfb9-ae39-47c0-b4d1-174109fb3f26","type":"CustomJS"},"end":0.05,"step":0.001,"title":"Annual inflation","value":0.03},"id":"d4d38297-a401-4c8f-a244-ad4a83e78604","type":"Slider"},{"attributes":{"callback":{"id":"03b4cfb9-ae39-47c0-b4d1-174109fb3f26","type":"CustomJS"},"end":0.5,"step":0.01,"title":"Tax rate (when retired)","value":0.2},"id":"4d31d3c5-030c-448b-8ec8-f697cb6a7a3b","type":"Slider"},{"attributes":{"callback":{"id":"03b4cfb9-ae39-47c0-b4d1-174109fb3f26","type":"CustomJS"},"end":100,"start":10,"step":1,"title":"Retired net income (1000's of today's $)","value":35},"id":"76949883-92e3-4a04-91ee-5c1059023dc1","type":"Slider"},{"attributes":{"children":[{"id":"13396d27-d414-48ba-89e1-8f17f8c9f6c6","type":"Slider"},{"id":"2adeaafb-8475-4fef-aa72-1dbdf23d4006","type":"Slider"},{"id":"59a6baa5-e3e7-4514-84b3-473f4c974c3a","type":"Slider"},{"id":"d4d38297-a401-4c8f-a244-ad4a83e78604","type":"Slider"},{"id":"4d31d3c5-030c-448b-8ec8-f697cb6a7a3b","type":"Slider"},{"id":"76949883-92e3-4a04-91ee-5c1059023dc1","type":"Slider"}]},"id":"cb6489e7-e42b-403f-a357-d07060eef0f1","type":"WidgetBox"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"c14f4eb1-6727-469e-ad35-bf00631f03b9","type":"Line"},{"attributes":{"children":[{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"},{"id":"cb6489e7-e42b-403f-a357-d07060eef0f1","type":"WidgetBox"}]},"id":"695711b2-8f85-45a7-8383-2689b022f635","type":"Row"},{"attributes":{"callback":null,"end":50},"id":"4fbb3148-8d75-4e17-82eb-3211c8ac260e","type":"Range1d"},{"attributes":{"label":{"value":"income on interest"},"renderers":[{"id":"7b122d7f-1445-407f-ac87-5b3fb3b1d7e1","type":"GlyphRenderer"}]},"id":"1be5e0c9-57bb-44de-ae2b-5f9bdfdf5de5","type":"LegendItem"},{"attributes":{"below":[{"id":"237e7319-6acf-4fbf-bf69-4fd46b77de36","type":"LinearAxis"}],"left":[{"id":"749518c9-2983-48e1-8984-159682b39279","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"237e7319-6acf-4fbf-bf69-4fd46b77de36","type":"LinearAxis"},{"id":"38594bbc-f960-4a17-9215-fbc56dac30d7","type":"Grid"},{"id":"749518c9-2983-48e1-8984-159682b39279","type":"LinearAxis"},{"id":"3d4a3c97-831c-40dd-8506-f2f6d1f53730","type":"Grid"},{"id":"9e1518b9-45e4-45d9-bf4a-ee3f12de4c46","type":"BoxAnnotation"},{"id":"215ff4db-869f-4e45-b6c5-6b73ffa6e9fb","type":"Legend"},{"id":"7b122d7f-1445-407f-ac87-5b3fb3b1d7e1","type":"GlyphRenderer"},{"id":"86a043aa-6016-4464-832d-a607db2a0817","type":"GlyphRenderer"},{"id":"5a9fefcf-c031-4799-a2c5-f87e8359c860","type":"GlyphRenderer"}],"title":{"id":"68fba405-9f1a-4854-acc1-5a6d28cf5858","type":"Title"},"tool_events":{"id":"02483791-eee4-4f24-a88c-6484b006d215","type":"ToolEvents"},"toolbar":{"id":"076810b7-581b-4f9c-bcd0-e2a454ca3a16","type":"Toolbar"},"x_range":{"id":"4fbb3148-8d75-4e17-82eb-3211c8ac260e","type":"Range1d"},"x_scale":{"id":"1ce504df-1283-41fb-90c2-d6017c1f15c8","type":"LinearScale"},"y_range":{"id":"9debeb38-1b34-4e35-8d02-dfc143769e02","type":"DataRange1d"},"y_scale":{"id":"0ef87f54-a988-4cf1-a498-38acb0af1ac4","type":"LinearScale"}},"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1ce504df-1283-41fb-90c2-d6017c1f15c8","type":"LinearScale"},{"attributes":{},"id":"0ef87f54-a988-4cf1-a498-38acb0af1ac4","type":"LinearScale"},{"attributes":{"axis_label":"Years from start of savings","formatter":{"id":"90bf3419-915b-43b8-a907-5d8698c35f29","type":"BasicTickFormatter"},"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"},"ticker":{"id":"56afb237-be41-45e4-88f1-b657805cd49b","type":"BasicTicker"}},"id":"237e7319-6acf-4fbf-bf69-4fd46b77de36","type":"LinearAxis"},{"attributes":{"data_source":{"id":"66383961-baa7-49da-aed3-25565cec1736","type":"ColumnDataSource"},"glyph":{"id":"84cdf908-7d5c-4597-823d-3f62187c206a","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"c14f4eb1-6727-469e-ad35-bf00631f03b9","type":"Line"},"selection_glyph":null},"id":"7b122d7f-1445-407f-ac87-5b3fb3b1d7e1","type":"GlyphRenderer"},{"attributes":{},"id":"56afb237-be41-45e4-88f1-b657805cd49b","type":"BasicTicker"},{"attributes":{"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"},"ticker":{"id":"56afb237-be41-45e4-88f1-b657805cd49b","type":"BasicTicker"}},"id":"38594bbc-f960-4a17-9215-fbc56dac30d7","type":"Grid"},{"attributes":{"axis_label":"Annual net income on interest (1000's of today's $)","formatter":{"id":"558dd4cc-a396-4b8d-b668-097c8080ceb0","type":"BasicTickFormatter"},"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"},"ticker":{"id":"11d1e662-84b8-47d4-a87c-0c473c80e3a3","type":"BasicTicker"}},"id":"749518c9-2983-48e1-8984-159682b39279","type":"LinearAxis"},{"attributes":{},"id":"11d1e662-84b8-47d4-a87c-0c473c80e3a3","type":"BasicTicker"},{"attributes":{"dimension":1,"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"},"ticker":{"id":"11d1e662-84b8-47d4-a87c-0c473c80e3a3","type":"BasicTicker"}},"id":"3d4a3c97-831c-40dd-8506-f2f6d1f53730","type":"Grid"},{"attributes":{"callback":null,"column_names":["x","y","y2","y3","y_ri","x_rt","y_rt"],"data":{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"x_rt":{"__ndarray__":"AAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQA==","dtype":"float64","shape":[50]},"y":[0,0.37281553398058254,0.8496936563295315,1.340461432727479,1.845523416204978,2.3652959428905604,2.900207475207761,3.450698955068182,4.017224167351721,4.600250113973616,5.2002573988466345,5.81774062405576,6.453208797571949,7.107185752841034,7.780210580593686,8.472838073232335,9.185639182161433,9.919201488437979,10.674129687130348,11.45104608578463,12.250591117409424,13.073423868401932,13.920222621850533,14.791685416661712,15.688530622972248,16.611497534320957,17.56134697706817,18.538861937565304,19.54484820759148,20.580135048589288,21.645575875247232,22.7420489589923,23.87045815197266,25.03173363212721,26.226832669956153,27.456740417624786,28.72247072105075,30.025066955644462,31.365602886391393,32.74518355298532,34.16494618074217,35.62606111804534,37.12973280109521,38.677200746758174,40.26974057433365,41.90866505708124,43.595325204374866,45.33111137537608,47.11745442514432,48.95582688412911],"y2":[8.0,18.78,30.5158,43.274018,57.125547180000005,72.14582075380001,88.41509296431802,106.0187371964258,125.04756224208752,145.59814781490525,167.7732004772408,191.68193121311973,217.44045595436873,245.17222044614653,275.0084509214664,307.08863214276204,341.56101446231565,378.58315165277213,418.32247136433756,460.95688017696887,506.67540533428115,555.678875371433,608.1806419823268,664.4073456125326,724.5997274138887,789.0134903552643,857.9202124520186,931.6083152548414,1010.3840909275045,1094.5727914432487,1184.5197836417403,1280.5917741134986,1383.1781081171598,1492.6921469877461,1609.5727287620743,1734.2857170315142,1867.3256433334318,2009.2174487118652,2160.518330416358,2321.819700066573,2493.7492599905586,2676.9732048475826,2872.1985560737558,3080.175637141559,3301.700698104532,3537.618698407318,3788.8262574807663,4056.274783213692,4340.973788999116,4643.994410695442],"y3":[1,1.03,1.0609,1.092727,1.1255088100000001,1.1592740743,1.1940522965290001,1.2298738654248702,1.2667700813876164,1.304773183829245,1.3439163793441222,1.384233870724446,1.4257608868461793,1.4685337134515648,1.512589724855112,1.5579674166007653,1.6047064390987884,1.652847632271752,1.7024330612399046,1.7535060530771018,1.806111234669415,1.8602945717094976,1.9161034088607827,1.9735865111266062,2.0327941064604045,2.0937779296542165,2.1565912675438432,2.2212890055701586,2.2879276757372633,2.3565655060093813,2.4272624711896627,2.5000803453253524,2.5750827556851132,2.6523352383556666,2.7319052955063365,2.8138624543715265,2.8982783280026725,2.9852266778427525,3.074783478178035,3.1670269825233763,3.2620377919990777,3.35989892575905,3.4606958935318217,3.5645167703377765,3.67145227344791,3.7815958416513475,3.8950437169008882,4.011895028407915,4.132251879260153,4.2562194356379575],"y_ri":{"__ndarray__":"AAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQAAAAAAAgEFAAAAAAACAQUAAAAAAAIBBQA==","dtype":"float64","shape":[50]},"y_rt":{"__ndarray__":"AAAAAAAAAAC3bdu2bdvmP7dt27Zt2/Y/SZIkSZIkAUC3bdu2bdsGQCVJkiRJkgxASZIkSZIkEUAAAAAAAAAUQLdt27Zt2xZAbtu2bdu2GUAlSZIkSZIcQNy2bdu2bR9ASZIkSZIkIUAlSZIkSZIiQAAAAAAAACRA3LZt27ZtJUC3bdu2bdsmQJIkSZIkSShAbtu2bdu2KUBJkiRJkiQrQCVJkiRJkixAAAAAAAAALkDctm3btm0vQNy2bdu2bTBASZIkSZIkMUC3bdu2bdsxQCVJkiRJkjJAkiRJkiRJM0AAAAAAAAA0QG7btm3btjRA3LZt27ZtNUBJkiRJkiQ2QLdt27Zt2zZAJUmSJEmSN0CSJEmSJEk4QAAAAAAAADlAbtu2bdu2OUDctm3btm06QEmSJEmSJDtAt23btm3bO0AlSZIkSZI8QJIkSZIkST1AAAAAAAAAPkBu27Zt27Y+QNy2bdu2bT9AJUmSJEkSQEDctm3btm1AQJIkSZIkyUBASZIkSZIkQUAAAAAAAIBBQA==","dtype":"float64","shape":[50]}}},"id":"66383961-baa7-49da-aed3-25565cec1736","type":"ColumnDataSource"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"9e1518b9-45e4-45d9-bf4a-ee3f12de4c46","type":"BoxAnnotation"},{"attributes":{"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"}},"id":"a7bebc94-ea2f-4121-8ead-9ca639b0ff5a","type":"PanTool"},{"attributes":{"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"}},"id":"58a580b7-6641-4b26-819d-dd1079451c87","type":"WheelZoomTool"},{"attributes":{"callback":null},"id":"9debeb38-1b34-4e35-8d02-dfc143769e02","type":"DataRange1d"},{"attributes":{"overlay":{"id":"9e1518b9-45e4-45d9-bf4a-ee3f12de4c46","type":"BoxAnnotation"},"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"}},"id":"dc35529c-8465-4c22-9127-a037b0df3bf5","type":"BoxZoomTool"},{"attributes":{"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"}},"id":"ae05a739-c57d-4096-8cab-5424be8d680f","type":"SaveTool"},{"attributes":{"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"}},"id":"02729d17-7ade-4ba8-b817-52705edc316c","type":"ResetTool"},{"attributes":{"plot":{"id":"0888d334-dd97-4abc-9f4b-78a0f97210a5","subtype":"Figure","type":"Plot"}},"id":"95bea5bd-85a3-4b1b-8e00-87652173354e","type":"HelpTool"},{"attributes":{"line_alpha":{"value":0.6},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"84cdf908-7d5c-4597-823d-3f62187c206a","type":"Line"}],"root_ids":["695711b2-8f85-45a7-8383-2689b022f635"]},"title":"Bokeh Application","version":"0.12.6"}};
              var render_items = [{"docid":"c08532c0-a389-4970-a735-39d40b2f7370","elementid":"6c555d50-95f0-4cbe-a8b7-b6d3183379bc","modelid":"695711b2-8f85-45a7-8383-2689b022f635"}];
              
              Bokeh.embed.embed_items(docs_json, render_items);
            });
          };
          if (document.readyState != "loading") fn();
          else document.addEventListener("DOMContentLoaded", fn);
        })();
        
        </script>
    </body>
</html>

#### Move the sliders to see the annual income for different savings plans

**Note that income is adjusted for inflation and income tax.**

## Figure details ([see source code](https://github.com/srcole/qwm/blob/master/retire/make_bokeh.py))

The goal of this figure is to illustrate how long a savings plan will take to yield an interest-based
income that is sufficient for retirement. Note that the numbers in the plot are in thousands of today's dollars, and the income has been adjusted for inflation and income tax.

* Black line - estimated annual income on interest
* Red line - minimum annual income needed to retire (set by user)
* Green line - year at which annual interest on savings covers the retirement requirement

## Motivation

I was recently debating how much/little we need to save in order to retire comfortably. We were pretty surprised when we crunched the numbers and saw how early we may potentially retire. I thought it'd be fun to use [Bokeh](https://bokeh.pydata.org/en/latest/) to make a plot illustrating the age at which we can expect to retire comfortable. It's also interesting to see how much of a different it can make by saving when you're young: using the default parameters, a person who had $100,000 already would retired 7 years earlier than someone without any current savings (35 years vs. 42 years)!

Other retirement calculators found online [don't take into account income tax](https://retirementplans.vanguard.com/VGApp/pe/pubeducation/calculators/RetirementIncomeCalc.jsf) or [even inflation](https://www.edwardjones.com/preparing-for-your-future/calculators-checklists/calculators/retirement-savings-calculator.html), and just generally aren't as appealing and informative as a Bokeh plot.